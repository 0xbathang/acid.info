"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useEventListener = void 0;
const react_1 = require("react");
const useEventListener = (key, element, listener, options, deps) => {
    const _key = (0, react_1.useMemo)(() => (typeof key === 'string' ? key : key()), []);
    const _element = (0, react_1.useMemo)(() => (typeof element === 'function' ? element() : element), [element]);
    (0, react_1.useEffect)(() => {
        if (!_element?.addEventListener || !_element?.removeEventListener)
            return;
        _element.addEventListener(_key, listener, options);
        return () => {
            _element.removeEventListener(_key, listener, options);
        };
    }, [_key, _element]);
};
exports.useEventListener = useEventListener;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jbGllbnQvbGliL3VzZUV2ZW50TGlzdGVuZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsaUNBQTBDO0FBRW5DLE1BQU0sZ0JBQWdCLEdBQUcsQ0FJOUIsR0FBNEIsRUFDNUIsT0FBc0IsRUFDdEIsUUFBNEIsRUFDNUIsT0FBMkMsRUFDM0MsSUFBWSxFQUNaLEVBQUU7SUFDRixNQUFNLElBQUksR0FBRyxJQUFBLGVBQU8sRUFBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLE9BQU8sR0FBRyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFBO0lBQ3ZFLE1BQU0sUUFBUSxHQUFHLElBQUEsZUFBTyxFQUN0QixHQUFHLEVBQUUsQ0FBQyxDQUFDLE9BQU8sT0FBTyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUMzRCxDQUFDLE9BQU8sQ0FBQyxDQUNWLENBQUE7SUFFRCxJQUFBLGlCQUFTLEVBQUMsR0FBRyxFQUFFO1FBQ2IsSUFBSSxDQUFDLFFBQVEsRUFBRSxnQkFBZ0IsSUFBSSxDQUFDLFFBQVEsRUFBRSxtQkFBbUI7WUFBRSxPQUFNO1FBRXpFLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFBO1FBRWxELE9BQU8sR0FBRyxFQUFFO1lBQ1YsUUFBUSxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUE7UUFDdkQsQ0FBQyxDQUFBO0lBQ0gsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUE7QUFDdEIsQ0FBQyxDQUFBO0FBekJZLFFBQUEsZ0JBQWdCLG9CQXlCNUIiLCJmaWxlIjoiY2xpZW50L2xpYi91c2VFdmVudExpc3RlbmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5cbmV4cG9ydCBjb25zdCB1c2VFdmVudExpc3RlbmVyID0gPFxuICBUID0gYW55LFxuICBFIGV4dGVuZHMgeyBhZGRFdmVudExpc3RlbmVyOiBhbnk7IHJlbW92ZUV2ZW50TGlzdGVuZXI6IGFueSB9ID0gYW55LFxuPihcbiAga2V5OiBzdHJpbmcgfCAoKCkgPT4gc3RyaW5nKSxcbiAgZWxlbWVudDogRSB8ICgoKSA9PiBFKSxcbiAgbGlzdGVuZXI6IChldmVudDogVCkgPT4gdm9pZCxcbiAgb3B0aW9ucz86IGJvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyxcbiAgZGVwcz86IGFueVtdLFxuKSA9PiB7XG4gIGNvbnN0IF9rZXkgPSB1c2VNZW1vKCgpID0+ICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyA/IGtleSA6IGtleSgpKSwgW10pXG4gIGNvbnN0IF9lbGVtZW50ID0gdXNlTWVtbyhcbiAgICAoKSA9PiAodHlwZW9mIGVsZW1lbnQgPT09ICdmdW5jdGlvbicgPyBlbGVtZW50KCkgOiBlbGVtZW50KSxcbiAgICBbZWxlbWVudF0sXG4gIClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghX2VsZW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIgfHwgIV9lbGVtZW50Py5yZW1vdmVFdmVudExpc3RlbmVyKSByZXR1cm5cblxuICAgIF9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoX2tleSwgbGlzdGVuZXIsIG9wdGlvbnMpXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihfa2V5LCBsaXN0ZW5lciwgb3B0aW9ucylcbiAgICB9XG4gIH0sIFtfa2V5LCBfZWxlbWVudF0pXG59XG4iXX0=
