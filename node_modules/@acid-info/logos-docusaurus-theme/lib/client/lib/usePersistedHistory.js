"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.usePersistedHistory = void 0;
const react_use_1 = require("react-use");
const usePersistedHistory = (key, options) => {
    const unique = options?.unique ?? false;
    const equals = options?.equals ?? ((a, b) => a === b);
    const maxItems = options?.maxItems ?? null;
    const [history, setHistory] = (0, react_use_1.useLocalStorage)('logos-docusaurus-theme-' + key, []);
    const add = (value) => {
        const arr = history ?? [];
        const newHistory = [
            value,
            ...(unique ? arr.filter((item) => !equals(item, value)) : arr),
        ];
        setHistory(maxItems ? newHistory.slice(0, maxItems) : newHistory);
    };
    const remove = (rm) => {
        const arr = history ?? [];
        setHistory(arr.filter((item, index) => !rm(item, index)));
    };
    const removeByIndex = (index) => {
        remove((item, idx) => idx === index);
    };
    const clear = () => {
        setHistory([]);
    };
    return {
        add,
        clear,
        remove,
        removeByIndex,
        list: history,
    };
};
exports.usePersistedHistory = usePersistedHistory;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jbGllbnQvbGliL3VzZVBlcnNpc3RlZEhpc3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEseUNBQTJDO0FBRXBDLE1BQU0sbUJBQW1CLEdBQUcsQ0FDakMsR0FBVyxFQUNYLE9BSUMsRUFDRCxFQUFFO0lBQ0YsTUFBTSxNQUFNLEdBQUcsT0FBTyxFQUFFLE1BQU0sSUFBSSxLQUFLLENBQUE7SUFDdkMsTUFBTSxNQUFNLEdBQUcsT0FBTyxFQUFFLE1BQU0sSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO0lBQ3JELE1BQU0sUUFBUSxHQUFHLE9BQU8sRUFBRSxRQUFRLElBQUksSUFBSSxDQUFBO0lBRTFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLEdBQUcsSUFBQSwyQkFBZSxFQUMzQyx5QkFBeUIsR0FBRyxHQUFHLEVBQy9CLEVBQUUsQ0FDSCxDQUFBO0lBRUQsTUFBTSxHQUFHLEdBQUcsQ0FBQyxLQUFRLEVBQUUsRUFBRTtRQUN2QixNQUFNLEdBQUcsR0FBRyxPQUFPLElBQUksRUFBRSxDQUFBO1FBQ3pCLE1BQU0sVUFBVSxHQUFHO1lBQ2pCLEtBQUs7WUFDTCxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO1NBQy9ELENBQUE7UUFDRCxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUE7SUFDbkUsQ0FBQyxDQUFBO0lBRUQsTUFBTSxNQUFNLEdBQUcsQ0FBQyxFQUF1QyxFQUFFLEVBQUU7UUFDekQsTUFBTSxHQUFHLEdBQUcsT0FBTyxJQUFJLEVBQUUsQ0FBQTtRQUN6QixVQUFVLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDM0QsQ0FBQyxDQUFBO0lBRUQsTUFBTSxhQUFhLEdBQUcsQ0FBQyxLQUFhLEVBQUUsRUFBRTtRQUN0QyxNQUFNLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEtBQUssS0FBSyxDQUFDLENBQUE7SUFDdEMsQ0FBQyxDQUFBO0lBRUQsTUFBTSxLQUFLLEdBQUcsR0FBRyxFQUFFO1FBQ2pCLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQTtJQUNoQixDQUFDLENBQUE7SUFFRCxPQUFPO1FBQ0wsR0FBRztRQUNILEtBQUs7UUFDTCxNQUFNO1FBQ04sYUFBYTtRQUNiLElBQUksRUFBRSxPQUFPO0tBQ2QsQ0FBQTtBQUNILENBQUMsQ0FBQTtBQTlDWSxRQUFBLG1CQUFtQix1QkE4Qy9CIiwiZmlsZSI6ImNsaWVudC9saWIvdXNlUGVyc2lzdGVkSGlzdG9yeS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUxvY2FsU3RvcmFnZSB9IGZyb20gJ3JlYWN0LXVzZSdcblxuZXhwb3J0IGNvbnN0IHVzZVBlcnNpc3RlZEhpc3RvcnkgPSA8VCA9IGFueT4oXG4gIGtleTogc3RyaW5nLFxuICBvcHRpb25zPzoge1xuICAgIGVxdWFscz86IChhOiBULCBiOiBUKSA9PiBib29sZWFuXG4gICAgdW5pcXVlPzogYm9vbGVhblxuICAgIG1heEl0ZW1zPzogbnVtYmVyXG4gIH0sXG4pID0+IHtcbiAgY29uc3QgdW5pcXVlID0gb3B0aW9ucz8udW5pcXVlID8/IGZhbHNlXG4gIGNvbnN0IGVxdWFscyA9IG9wdGlvbnM/LmVxdWFscyA/PyAoKGEsIGIpID0+IGEgPT09IGIpXG4gIGNvbnN0IG1heEl0ZW1zID0gb3B0aW9ucz8ubWF4SXRlbXMgPz8gbnVsbFxuXG4gIGNvbnN0IFtoaXN0b3J5LCBzZXRIaXN0b3J5XSA9IHVzZUxvY2FsU3RvcmFnZTxUW10+KFxuICAgICdsb2dvcy1kb2N1c2F1cnVzLXRoZW1lLScgKyBrZXksXG4gICAgW10sXG4gIClcblxuICBjb25zdCBhZGQgPSAodmFsdWU6IFQpID0+IHtcbiAgICBjb25zdCBhcnIgPSBoaXN0b3J5ID8/IFtdXG4gICAgY29uc3QgbmV3SGlzdG9yeSA9IFtcbiAgICAgIHZhbHVlLFxuICAgICAgLi4uKHVuaXF1ZSA/IGFyci5maWx0ZXIoKGl0ZW0pID0+ICFlcXVhbHMoaXRlbSwgdmFsdWUpKSA6IGFyciksXG4gICAgXVxuICAgIHNldEhpc3RvcnkobWF4SXRlbXMgPyBuZXdIaXN0b3J5LnNsaWNlKDAsIG1heEl0ZW1zKSA6IG5ld0hpc3RvcnkpXG4gIH1cblxuICBjb25zdCByZW1vdmUgPSAocm06IChpdGVtOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuKSA9PiB7XG4gICAgY29uc3QgYXJyID0gaGlzdG9yeSA/PyBbXVxuICAgIHNldEhpc3RvcnkoYXJyLmZpbHRlcigoaXRlbSwgaW5kZXgpID0+ICFybShpdGVtLCBpbmRleCkpKVxuICB9XG5cbiAgY29uc3QgcmVtb3ZlQnlJbmRleCA9IChpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgcmVtb3ZlKChpdGVtLCBpZHgpID0+IGlkeCA9PT0gaW5kZXgpXG4gIH1cblxuICBjb25zdCBjbGVhciA9ICgpID0+IHtcbiAgICBzZXRIaXN0b3J5KFtdKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhZGQsXG4gICAgY2xlYXIsXG4gICAgcmVtb3ZlLFxuICAgIHJlbW92ZUJ5SW5kZXgsXG4gICAgbGlzdDogaGlzdG9yeSxcbiAgfVxufVxuIl19
