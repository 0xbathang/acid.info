"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.usePortal = void 0;
const react_1 = require("react");
const settle_1 = require("../../lib/settle");
const usePortal = ({ parentId }) => {
    const elementRef = (0, react_1.useRef)();
    if (!elementRef.current) {
        elementRef.current = document.createElement('div');
    }
    (0, react_1.useEffect)(() => {
        if (!elementRef.current)
            return;
        document.getElementById(parentId)?.appendChild(elementRef.current);
        return () => {
            const el = elementRef.current;
            el && (0, settle_1.settleSync)(() => document.getElementById(parentId)?.removeChild(el));
        };
    }, [parentId, elementRef.current]);
    return elementRef.current;
};
exports.usePortal = usePortal;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jbGllbnQvY29tcG9uZW50cy9Qb3J0YWwvdXNlUG9ydGFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLGlDQUF5QztBQUN6Qyw2Q0FBNkM7QUFNdEMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxFQUFFLFFBQVEsRUFBUyxFQUFFLEVBQUU7SUFDL0MsTUFBTSxVQUFVLEdBQUcsSUFBQSxjQUFNLEdBQWUsQ0FBQTtJQUV4QyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRTtRQUN2QixVQUFVLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUE7S0FDbkQ7SUFFRCxJQUFBLGlCQUFTLEVBQUMsR0FBRyxFQUFFO1FBQ2IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPO1lBQUUsT0FBTTtRQUMvQixRQUFRLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUE7UUFFbEUsT0FBTyxHQUFHLEVBQUU7WUFDVixNQUFNLEVBQUUsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFBO1lBQzdCLEVBQUUsSUFBSSxJQUFBLG1CQUFVLEVBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsRUFBRSxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtRQUM1RSxDQUFDLENBQUE7SUFDSCxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUE7SUFFbEMsT0FBTyxVQUFVLENBQUMsT0FBTyxDQUFBO0FBQzNCLENBQUMsQ0FBQTtBQWxCWSxRQUFBLFNBQVMsYUFrQnJCIiwiZmlsZSI6ImNsaWVudC9jb21wb25lbnRzL1BvcnRhbC91c2VQb3J0YWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgc2V0dGxlU3luYyB9IGZyb20gJy4uLy4uL2xpYi9zZXR0bGUnXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHBhcmVudElkOiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IHVzZVBvcnRhbCA9ICh7IHBhcmVudElkIH06IFByb3BzKSA9PiB7XG4gIGNvbnN0IGVsZW1lbnRSZWYgPSB1c2VSZWY8SFRNTEVsZW1lbnQ+KClcblxuICBpZiAoIWVsZW1lbnRSZWYuY3VycmVudCkge1xuICAgIGVsZW1lbnRSZWYuY3VycmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZWxlbWVudFJlZi5jdXJyZW50KSByZXR1cm5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJlbnRJZCk/LmFwcGVuZENoaWxkKGVsZW1lbnRSZWYuY3VycmVudClcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb25zdCBlbCA9IGVsZW1lbnRSZWYuY3VycmVudFxuICAgICAgZWwgJiYgc2V0dGxlU3luYygoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJlbnRJZCk/LnJlbW92ZUNoaWxkKGVsKSlcbiAgICB9XG4gIH0sIFtwYXJlbnRJZCwgZWxlbWVudFJlZi5jdXJyZW50XSlcblxuICByZXR1cm4gZWxlbWVudFJlZi5jdXJyZW50XG59XG4iXX0=
