"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useDocTOC = void 0;
const tslib_1 = require("tslib");
const react_1 = tslib_1.__importDefault(require("react"));
const clsx_1 = tslib_1.__importDefault(require("clsx"));
const theme_common_1 = require("@docusaurus/theme-common");
const internal_1 = require("@docusaurus/theme-common/internal");
const Paginator_1 = tslib_1.__importDefault(require("@theme/DocItem/Paginator"));
const DocVersionBanner_1 = tslib_1.__importDefault(require("@theme/DocVersionBanner"));
const DocVersionBadge_1 = tslib_1.__importDefault(require("@theme/DocVersionBadge"));
const Footer_1 = tslib_1.__importDefault(require("@theme/DocItem/Footer"));
const Mobile_1 = tslib_1.__importDefault(require("@theme/DocItem/TOC/Mobile"));
const Desktop_1 = tslib_1.__importDefault(require("@theme/DocItem/TOC/Desktop"));
const Content_1 = tslib_1.__importDefault(require("@theme/DocItem/Content"));
const DocBreadcrumbs_1 = tslib_1.__importDefault(require("@theme/DocBreadcrumbs"));
const styles_module_scss_1 = tslib_1.__importDefault(require("./styles.module.scss"));
const react_use_1 = require("react-use");
/**
 * Decide if the toc should be rendered, on mobile or desktop viewports
 */
function useDocTOC() {
    const { frontMatter, toc } = (0, internal_1.useDoc)();
    const windowSize = (0, theme_common_1.useWindowSize)();
    const isDesktop = (0, react_use_1.useMedia)('(min-width: 1200px)');
    const hidden = frontMatter.hide_table_of_contents;
    const canRender = !hidden && toc.length > 0;
    const mobile = canRender ? (react_1.default.createElement("div", { className: styles_module_scss_1.default.tocMobile },
        react_1.default.createElement(Mobile_1.default, null))) : undefined;
    const desktop = canRender && (isDesktop || windowSize === 'ssr') ? (react_1.default.createElement(Desktop_1.default, null)) : undefined;
    return {
        hidden,
        mobile,
        desktop,
    };
}
exports.useDocTOC = useDocTOC;
function DocItemLayout({ children }) {
    const docTOC = useDocTOC();
    return (react_1.default.createElement("div", { className: (0, clsx_1.default)('row', styles_module_scss_1.default.docItemGrid) },
        react_1.default.createElement("div", { className: (0, clsx_1.default)(!docTOC.hidden && styles_module_scss_1.default.docItemCol) },
            react_1.default.createElement(DocVersionBanner_1.default, null),
            react_1.default.createElement("div", { className: styles_module_scss_1.default.docItemContainer },
                react_1.default.createElement("article", null,
                    react_1.default.createElement(DocBreadcrumbs_1.default, null),
                    react_1.default.createElement(DocVersionBadge_1.default, null),
                    docTOC.mobile,
                    react_1.default.createElement(Content_1.default, null, children),
                    react_1.default.createElement(Footer_1.default, null)),
                react_1.default.createElement(Paginator_1.default, null))),
        react_1.default.createElement("div", { className: styles_module_scss_1.default.gap1 }),
        docTOC.desktop && (react_1.default.createElement("div", { className: (0, clsx_1.default)(styles_module_scss_1.default.toc) }, docTOC.desktop))));
}
exports.default = DocItemLayout;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jbGllbnQvdGhlbWUvRG9jSXRlbS9MYXlvdXQvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSwwREFBeUI7QUFDekIsd0RBQXVCO0FBQ3ZCLDJEQUF3RDtBQUN4RCxnRUFBMEQ7QUFDMUQsaUZBQXVEO0FBQ3ZELHVGQUFzRDtBQUN0RCxxRkFBb0Q7QUFDcEQsMkVBQWlEO0FBQ2pELCtFQUF3RDtBQUN4RCxpRkFBMEQ7QUFDMUQsNkVBQW1EO0FBQ25ELG1GQUFrRDtBQUNsRCxzRkFBeUM7QUFDekMseUNBQW9DO0FBRXBDOztHQUVHO0FBQ0gsU0FBZ0IsU0FBUztJQUN2QixNQUFNLEVBQUUsV0FBVyxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUEsaUJBQU0sR0FBRSxDQUFBO0lBQ3JDLE1BQU0sVUFBVSxHQUFHLElBQUEsNEJBQWEsR0FBRSxDQUFBO0lBQ2xDLE1BQU0sU0FBUyxHQUFHLElBQUEsb0JBQVEsRUFBQyxxQkFBcUIsQ0FBQyxDQUFBO0lBQ2pELE1BQU0sTUFBTSxHQUFHLFdBQVcsQ0FBQyxzQkFBc0IsQ0FBQTtJQUNqRCxNQUFNLFNBQVMsR0FBRyxDQUFDLE1BQU0sSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQTtJQUMzQyxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQ3pCLHVDQUFLLFNBQVMsRUFBRSw0QkFBTSxDQUFDLFNBQVM7UUFDOUIsOEJBQUMsZ0JBQWdCLE9BQUcsQ0FDaEIsQ0FDUCxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUE7SUFDYixNQUFNLE9BQU8sR0FDWCxTQUFTLElBQUksQ0FBQyxTQUFTLElBQUksVUFBVSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUNqRCw4QkFBQyxpQkFBaUIsT0FBRyxDQUN0QixDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUE7SUFFZixPQUFPO1FBQ0wsTUFBTTtRQUNOLE1BQU07UUFDTixPQUFPO0tBQ1IsQ0FBQTtBQUNILENBQUM7QUFyQkQsOEJBcUJDO0FBRUQsU0FBd0IsYUFBYSxDQUFDLEVBQUUsUUFBUSxFQUFFO0lBQ2hELE1BQU0sTUFBTSxHQUFHLFNBQVMsRUFBRSxDQUFBO0lBRTFCLE9BQU8sQ0FDTCx1Q0FBSyxTQUFTLEVBQUUsSUFBQSxjQUFJLEVBQUMsS0FBSyxFQUFFLDRCQUFNLENBQUMsV0FBVyxDQUFDO1FBQzdDLHVDQUFLLFNBQVMsRUFBRSxJQUFBLGNBQUksRUFBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksNEJBQU0sQ0FBQyxVQUFVLENBQUM7WUFDdkQsOEJBQUMsMEJBQWdCLE9BQUc7WUFDcEIsdUNBQUssU0FBUyxFQUFFLDRCQUFNLENBQUMsZ0JBQWdCO2dCQUNyQztvQkFDRSw4QkFBQyx3QkFBYyxPQUFHO29CQUNsQiw4QkFBQyx5QkFBZSxPQUFHO29CQUNsQixNQUFNLENBQUMsTUFBTTtvQkFDZCw4QkFBQyxpQkFBYyxRQUFFLFFBQVEsQ0FBa0I7b0JBQzNDLDhCQUFDLGdCQUFhLE9BQUcsQ0FDVDtnQkFDViw4QkFBQyxtQkFBZ0IsT0FBRyxDQUNoQixDQUNGO1FBQ04sdUNBQUssU0FBUyxFQUFFLDRCQUFNLENBQUMsSUFBSSxHQUFJO1FBQzlCLE1BQU0sQ0FBQyxPQUFPLElBQUksQ0FDakIsdUNBQUssU0FBUyxFQUFFLElBQUEsY0FBSSxFQUFDLDRCQUFNLENBQUMsR0FBRyxDQUFDLElBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBTyxDQUN6RCxDQUNHLENBQ1AsQ0FBQTtBQUNILENBQUM7QUF4QkQsZ0NBd0JDIiwiZmlsZSI6ImNsaWVudC90aGVtZS9Eb2NJdGVtL0xheW91dC9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnXG5pbXBvcnQgeyB1c2VXaW5kb3dTaXplIH0gZnJvbSAnQGRvY3VzYXVydXMvdGhlbWUtY29tbW9uJ1xuaW1wb3J0IHsgdXNlRG9jIH0gZnJvbSAnQGRvY3VzYXVydXMvdGhlbWUtY29tbW9uL2ludGVybmFsJ1xuaW1wb3J0IERvY0l0ZW1QYWdpbmF0b3IgZnJvbSAnQHRoZW1lL0RvY0l0ZW0vUGFnaW5hdG9yJ1xuaW1wb3J0IERvY1ZlcnNpb25CYW5uZXIgZnJvbSAnQHRoZW1lL0RvY1ZlcnNpb25CYW5uZXInXG5pbXBvcnQgRG9jVmVyc2lvbkJhZGdlIGZyb20gJ0B0aGVtZS9Eb2NWZXJzaW9uQmFkZ2UnXG5pbXBvcnQgRG9jSXRlbUZvb3RlciBmcm9tICdAdGhlbWUvRG9jSXRlbS9Gb290ZXInXG5pbXBvcnQgRG9jSXRlbVRPQ01vYmlsZSBmcm9tICdAdGhlbWUvRG9jSXRlbS9UT0MvTW9iaWxlJ1xuaW1wb3J0IERvY0l0ZW1UT0NEZXNrdG9wIGZyb20gJ0B0aGVtZS9Eb2NJdGVtL1RPQy9EZXNrdG9wJ1xuaW1wb3J0IERvY0l0ZW1Db250ZW50IGZyb20gJ0B0aGVtZS9Eb2NJdGVtL0NvbnRlbnQnXG5pbXBvcnQgRG9jQnJlYWRjcnVtYnMgZnJvbSAnQHRoZW1lL0RvY0JyZWFkY3J1bWJzJ1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL3N0eWxlcy5tb2R1bGUuc2NzcydcbmltcG9ydCB7IHVzZU1lZGlhIH0gZnJvbSAncmVhY3QtdXNlJ1xuXG4vKipcbiAqIERlY2lkZSBpZiB0aGUgdG9jIHNob3VsZCBiZSByZW5kZXJlZCwgb24gbW9iaWxlIG9yIGRlc2t0b3Agdmlld3BvcnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VEb2NUT0MoKSB7XG4gIGNvbnN0IHsgZnJvbnRNYXR0ZXIsIHRvYyB9ID0gdXNlRG9jKClcbiAgY29uc3Qgd2luZG93U2l6ZSA9IHVzZVdpbmRvd1NpemUoKVxuICBjb25zdCBpc0Rlc2t0b3AgPSB1c2VNZWRpYSgnKG1pbi13aWR0aDogMTIwMHB4KScpXG4gIGNvbnN0IGhpZGRlbiA9IGZyb250TWF0dGVyLmhpZGVfdGFibGVfb2ZfY29udGVudHNcbiAgY29uc3QgY2FuUmVuZGVyID0gIWhpZGRlbiAmJiB0b2MubGVuZ3RoID4gMFxuICBjb25zdCBtb2JpbGUgPSBjYW5SZW5kZXIgPyAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50b2NNb2JpbGV9PlxuICAgICAgPERvY0l0ZW1UT0NNb2JpbGUgLz5cbiAgICA8L2Rpdj5cbiAgKSA6IHVuZGVmaW5lZFxuICBjb25zdCBkZXNrdG9wID1cbiAgICBjYW5SZW5kZXIgJiYgKGlzRGVza3RvcCB8fCB3aW5kb3dTaXplID09PSAnc3NyJykgPyAoXG4gICAgICA8RG9jSXRlbVRPQ0Rlc2t0b3AgLz5cbiAgICApIDogdW5kZWZpbmVkXG5cbiAgcmV0dXJuIHtcbiAgICBoaWRkZW4sXG4gICAgbW9iaWxlLFxuICAgIGRlc2t0b3AsXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRG9jSXRlbUxheW91dCh7IGNoaWxkcmVuIH0pIHtcbiAgY29uc3QgZG9jVE9DID0gdXNlRG9jVE9DKClcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbHN4KCdyb3cnLCBzdHlsZXMuZG9jSXRlbUdyaWQpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbHN4KCFkb2NUT0MuaGlkZGVuICYmIHN0eWxlcy5kb2NJdGVtQ29sKX0+XG4gICAgICAgIDxEb2NWZXJzaW9uQmFubmVyIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZG9jSXRlbUNvbnRhaW5lcn0+XG4gICAgICAgICAgPGFydGljbGU+XG4gICAgICAgICAgICA8RG9jQnJlYWRjcnVtYnMgLz5cbiAgICAgICAgICAgIDxEb2NWZXJzaW9uQmFkZ2UgLz5cbiAgICAgICAgICAgIHtkb2NUT0MubW9iaWxlfVxuICAgICAgICAgICAgPERvY0l0ZW1Db250ZW50PntjaGlsZHJlbn08L0RvY0l0ZW1Db250ZW50PlxuICAgICAgICAgICAgPERvY0l0ZW1Gb290ZXIgLz5cbiAgICAgICAgICA8L2FydGljbGU+XG4gICAgICAgICAgPERvY0l0ZW1QYWdpbmF0b3IgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZ2FwMX0gLz5cbiAgICAgIHtkb2NUT0MuZGVza3RvcCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbHN4KHN0eWxlcy50b2MpfT57ZG9jVE9DLmRlc2t0b3B9PC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApXG59XG4iXX0=
