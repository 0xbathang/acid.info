"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const react_1 = tslib_1.__importDefault(require("react"));
const clsx_1 = tslib_1.__importDefault(require("clsx"));
const theme_common_1 = require("@docusaurus/theme-common");
const internal_1 = require("@docusaurus/theme-common/internal");
const Link_1 = tslib_1.__importDefault(require("@docusaurus/Link"));
const Translate_1 = require("@docusaurus/Translate");
const styles_module_css_1 = tslib_1.__importDefault(require("./styles.module.css"));
const lsd_react_1 = require("@acid-info/lsd-react");
const useDocusaurusContext_1 = tslib_1.__importDefault(require("@docusaurus/useDocusaurusContext"));
// TODO move to design system folder
function BreadcrumbsItemLink({ children, href, isLast }) {
    const className = 'breadcrumbs__link';
    if (isLast) {
        return (react_1.default.createElement(lsd_react_1.Typography, { variant: "body3", component: "span", className: className, itemProp: "name" }, children));
    }
    return href ? (react_1.default.createElement(Link_1.default, { className: className, href: href, itemProp: "item" },
        react_1.default.createElement(lsd_react_1.Typography, { variant: "body3", component: "span", itemProp: "name" }, children))) : (
    // TODO Google search console doesn't like breadcrumb items without href.
    // The schema doesn't seem to require `id` for each `item`, although Google
    // insist to infer one, even if it's invalid. Removing `itemProp="item
    // name"` for now, since I don't know how to properly fix it.
    // See https://github.com/facebook/docusaurus/issues/7241
    react_1.default.createElement(lsd_react_1.Typography, { variant: "body3", component: "span", className: className }, children));
}
// TODO move to design system folder
function BreadcrumbsItem({ children, active, index, addMicrodata }) {
    return (react_1.default.createElement("li", { ...(addMicrodata && {
            itemScope: true,
            itemProp: 'itemListElement',
            itemType: 'https://schema.org/ListItem',
        }), className: (0, clsx_1.default)('breadcrumbs__item', {
            'breadcrumbs__item--active': active,
        }) },
        children,
        react_1.default.createElement("meta", { itemProp: "position", content: String(index + 1) })));
}
function DocBreadcrumbs() {
    const breadcrumbs = (0, internal_1.useSidebarBreadcrumbs)();
    const homePageRoute = (0, internal_1.useHomePageRoute)();
    const { siteConfig } = (0, useDocusaurusContext_1.default)();
    if (!breadcrumbs) {
        return null;
    }
    //@ts-ignore
    const routeBasePath = siteConfig.presets[0][1].docs.routeBasePath;
    return (react_1.default.createElement("nav", { className: (0, clsx_1.default)(theme_common_1.ThemeClassNames.docs.docBreadcrumbs, styles_module_css_1.default.breadcrumbsContainer), "aria-label": (0, Translate_1.translate)({
            id: 'theme.docs.breadcrumbs.navAriaLabel',
            message: 'Breadcrumbs',
            description: 'The ARIA label for the breadcrumbs',
        }) },
        react_1.default.createElement("ul", { className: "breadcrumbs", itemScope: true, itemType: "https://schema.org/BreadcrumbList" },
            homePageRoute && (react_1.default.createElement(lsd_react_1.Typography, { className: (0, clsx_1.default)('breadcrumbs__item'), variant: "body3", component: "a", href: routeBasePath }, "Home")),
            breadcrumbs.map((item, idx) => {
                const isLast = idx === breadcrumbs.length - 1;
                return (react_1.default.createElement(BreadcrumbsItem, { key: idx, active: isLast, index: idx, addMicrodata: !!item.href },
                    react_1.default.createElement(BreadcrumbsItemLink, { href: item.href, isLast: isLast }, item.label)));
            }))));
}
exports.default = DocBreadcrumbs;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jbGllbnQvdGhlbWUvRG9jQnJlYWRjcnVtYnMvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDBEQUF5QjtBQUN6Qix3REFBdUI7QUFDdkIsMkRBQTBEO0FBQzFELGdFQUcwQztBQUMxQyxvRUFBbUM7QUFDbkMscURBQWlEO0FBQ2pELG9GQUF3QztBQUN4QyxvREFBaUQ7QUFDakQsb0dBQW1FO0FBRW5FLG9DQUFvQztBQUNwQyxTQUFTLG1CQUFtQixDQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUU7SUFDckQsTUFBTSxTQUFTLEdBQUcsbUJBQW1CLENBQUE7SUFDckMsSUFBSSxNQUFNLEVBQUU7UUFDVixPQUFPLENBQ0wsOEJBQUMsc0JBQVUsSUFDVCxPQUFPLEVBQUMsT0FBTyxFQUNmLFNBQVMsRUFBQyxNQUFNLEVBQ2hCLFNBQVMsRUFBRSxTQUFTLEVBQ3BCLFFBQVEsRUFBQyxNQUFNLElBRWQsUUFBUSxDQUNFLENBQ2QsQ0FBQTtLQUNGO0lBQ0QsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQ1osOEJBQUMsY0FBSSxJQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUMsTUFBTTtRQUNyRCw4QkFBQyxzQkFBVSxJQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsTUFBTSxJQUN6RCxRQUFRLENBQ0UsQ0FDUixDQUNSLENBQUMsQ0FBQyxDQUFDO0lBQ0YseUVBQXlFO0lBQ3pFLDJFQUEyRTtJQUMzRSxzRUFBc0U7SUFDdEUsNkRBQTZEO0lBQzdELHlEQUF5RDtJQUN6RCw4QkFBQyxzQkFBVSxJQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBQyxTQUFTLEVBQUUsU0FBUyxJQUM5RCxRQUFRLENBQ0UsQ0FDZCxDQUFBO0FBQ0gsQ0FBQztBQUVELG9DQUFvQztBQUNwQyxTQUFTLGVBQWUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRTtJQUNoRSxPQUFPLENBQ0wseUNBQ00sQ0FBQyxZQUFZLElBQUk7WUFDbkIsU0FBUyxFQUFFLElBQUk7WUFDZixRQUFRLEVBQUUsaUJBQWlCO1lBQzNCLFFBQVEsRUFBRSw2QkFBNkI7U0FDeEMsQ0FBQyxFQUNGLFNBQVMsRUFBRSxJQUFBLGNBQUksRUFBQyxtQkFBbUIsRUFBRTtZQUNuQywyQkFBMkIsRUFBRSxNQUFNO1NBQ3BDLENBQUM7UUFFRCxRQUFRO1FBQ1Qsd0NBQU0sUUFBUSxFQUFDLFVBQVUsRUFBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBSSxDQUNyRCxDQUNOLENBQUE7QUFDSCxDQUFDO0FBRUQsU0FBd0IsY0FBYztJQUNwQyxNQUFNLFdBQVcsR0FBRyxJQUFBLGdDQUFxQixHQUFFLENBQUE7SUFDM0MsTUFBTSxhQUFhLEdBQUcsSUFBQSwyQkFBZ0IsR0FBRSxDQUFBO0lBQ3hDLE1BQU0sRUFBRSxVQUFVLEVBQUUsR0FBRyxJQUFBLDhCQUFvQixHQUFFLENBQUE7SUFFN0MsSUFBSSxDQUFDLFdBQVcsRUFBRTtRQUNoQixPQUFPLElBQUksQ0FBQTtLQUNaO0lBRUQsWUFBWTtJQUNaLE1BQU0sYUFBYSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQTtJQUVqRSxPQUFPLENBQ0wsdUNBQ0UsU0FBUyxFQUFFLElBQUEsY0FBSSxFQUNiLDhCQUFlLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFDbkMsMkJBQU0sQ0FBQyxvQkFBb0IsQ0FDNUIsZ0JBQ1csSUFBQSxxQkFBUyxFQUFDO1lBQ3BCLEVBQUUsRUFBRSxxQ0FBcUM7WUFDekMsT0FBTyxFQUFFLGFBQWE7WUFDdEIsV0FBVyxFQUFFLG9DQUFvQztTQUNsRCxDQUFDO1FBRUYsc0NBQ0UsU0FBUyxFQUFDLGFBQWEsRUFDdkIsU0FBUyxRQUNULFFBQVEsRUFBQyxtQ0FBbUM7WUFFM0MsYUFBYSxJQUFJLENBQ2hCLDhCQUFDLHNCQUFVLElBQ1QsU0FBUyxFQUFFLElBQUEsY0FBSSxFQUFDLG1CQUFtQixDQUFDLEVBQ3BDLE9BQU8sRUFBQyxPQUFPLEVBQ2YsU0FBUyxFQUFDLEdBQUcsRUFDYixJQUFJLEVBQUUsYUFBYSxXQUdSLENBQ2Q7WUFDQSxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFO2dCQUM3QixNQUFNLE1BQU0sR0FBRyxHQUFHLEtBQUssV0FBVyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUE7Z0JBQzdDLE9BQU8sQ0FDTCw4QkFBQyxlQUFlLElBQ2QsR0FBRyxFQUFFLEdBQUcsRUFDUixNQUFNLEVBQUUsTUFBTSxFQUNkLEtBQUssRUFBRSxHQUFHLEVBQ1YsWUFBWSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSTtvQkFFekIsOEJBQUMsbUJBQW1CLElBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLE1BQU0sSUFDakQsSUFBSSxDQUFDLEtBQUssQ0FDUyxDQUNOLENBQ25CLENBQUE7WUFDSCxDQUFDLENBQUMsQ0FDQyxDQUNELENBQ1AsQ0FBQTtBQUNILENBQUM7QUF6REQsaUNBeURDIiwiZmlsZSI6ImNsaWVudC90aGVtZS9Eb2NCcmVhZGNydW1icy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnXG5pbXBvcnQgeyBUaGVtZUNsYXNzTmFtZXMgfSBmcm9tICdAZG9jdXNhdXJ1cy90aGVtZS1jb21tb24nXG5pbXBvcnQge1xuICB1c2VTaWRlYmFyQnJlYWRjcnVtYnMsXG4gIHVzZUhvbWVQYWdlUm91dGUsXG59IGZyb20gJ0Bkb2N1c2F1cnVzL3RoZW1lLWNvbW1vbi9pbnRlcm5hbCdcbmltcG9ydCBMaW5rIGZyb20gJ0Bkb2N1c2F1cnVzL0xpbmsnXG5pbXBvcnQgeyB0cmFuc2xhdGUgfSBmcm9tICdAZG9jdXNhdXJ1cy9UcmFuc2xhdGUnXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGVzLm1vZHVsZS5jc3MnXG5pbXBvcnQgeyBUeXBvZ3JhcGh5IH0gZnJvbSAnQGFjaWQtaW5mby9sc2QtcmVhY3QnXG5pbXBvcnQgdXNlRG9jdXNhdXJ1c0NvbnRleHQgZnJvbSAnQGRvY3VzYXVydXMvdXNlRG9jdXNhdXJ1c0NvbnRleHQnXG5cbi8vIFRPRE8gbW92ZSB0byBkZXNpZ24gc3lzdGVtIGZvbGRlclxuZnVuY3Rpb24gQnJlYWRjcnVtYnNJdGVtTGluayh7IGNoaWxkcmVuLCBocmVmLCBpc0xhc3QgfSkge1xuICBjb25zdCBjbGFzc05hbWUgPSAnYnJlYWRjcnVtYnNfX2xpbmsnXG4gIGlmIChpc0xhc3QpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFR5cG9ncmFwaHlcbiAgICAgICAgdmFyaWFudD1cImJvZHkzXCJcbiAgICAgICAgY29tcG9uZW50PVwic3BhblwiXG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICBpdGVtUHJvcD1cIm5hbWVcIlxuICAgICAgPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L1R5cG9ncmFwaHk+XG4gICAgKVxuICB9XG4gIHJldHVybiBocmVmID8gKFxuICAgIDxMaW5rIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBocmVmPXtocmVmfSBpdGVtUHJvcD1cIml0ZW1cIj5cbiAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJib2R5M1wiIGNvbXBvbmVudD1cInNwYW5cIiBpdGVtUHJvcD1cIm5hbWVcIj5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgIDwvTGluaz5cbiAgKSA6IChcbiAgICAvLyBUT0RPIEdvb2dsZSBzZWFyY2ggY29uc29sZSBkb2Vzbid0IGxpa2UgYnJlYWRjcnVtYiBpdGVtcyB3aXRob3V0IGhyZWYuXG4gICAgLy8gVGhlIHNjaGVtYSBkb2Vzbid0IHNlZW0gdG8gcmVxdWlyZSBgaWRgIGZvciBlYWNoIGBpdGVtYCwgYWx0aG91Z2ggR29vZ2xlXG4gICAgLy8gaW5zaXN0IHRvIGluZmVyIG9uZSwgZXZlbiBpZiBpdCdzIGludmFsaWQuIFJlbW92aW5nIGBpdGVtUHJvcD1cIml0ZW1cbiAgICAvLyBuYW1lXCJgIGZvciBub3csIHNpbmNlIEkgZG9uJ3Qga25vdyBob3cgdG8gcHJvcGVybHkgZml4IGl0LlxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZG9jdXNhdXJ1cy9pc3N1ZXMvNzI0MVxuICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJib2R5M1wiIGNvbXBvbmVudD1cInNwYW5cIiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9UeXBvZ3JhcGh5PlxuICApXG59XG5cbi8vIFRPRE8gbW92ZSB0byBkZXNpZ24gc3lzdGVtIGZvbGRlclxuZnVuY3Rpb24gQnJlYWRjcnVtYnNJdGVtKHsgY2hpbGRyZW4sIGFjdGl2ZSwgaW5kZXgsIGFkZE1pY3JvZGF0YSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGxpXG4gICAgICB7Li4uKGFkZE1pY3JvZGF0YSAmJiB7XG4gICAgICAgIGl0ZW1TY29wZTogdHJ1ZSxcbiAgICAgICAgaXRlbVByb3A6ICdpdGVtTGlzdEVsZW1lbnQnLFxuICAgICAgICBpdGVtVHlwZTogJ2h0dHBzOi8vc2NoZW1hLm9yZy9MaXN0SXRlbScsXG4gICAgICB9KX1cbiAgICAgIGNsYXNzTmFtZT17Y2xzeCgnYnJlYWRjcnVtYnNfX2l0ZW0nLCB7XG4gICAgICAgICdicmVhZGNydW1ic19faXRlbS0tYWN0aXZlJzogYWN0aXZlLFxuICAgICAgfSl9XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgICAgPG1ldGEgaXRlbVByb3A9XCJwb3NpdGlvblwiIGNvbnRlbnQ9e1N0cmluZyhpbmRleCArIDEpfSAvPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRG9jQnJlYWRjcnVtYnMoKSB7XG4gIGNvbnN0IGJyZWFkY3J1bWJzID0gdXNlU2lkZWJhckJyZWFkY3J1bWJzKClcbiAgY29uc3QgaG9tZVBhZ2VSb3V0ZSA9IHVzZUhvbWVQYWdlUm91dGUoKVxuICBjb25zdCB7IHNpdGVDb25maWcgfSA9IHVzZURvY3VzYXVydXNDb250ZXh0KClcblxuICBpZiAoIWJyZWFkY3J1bWJzKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIC8vQHRzLWlnbm9yZVxuICBjb25zdCByb3V0ZUJhc2VQYXRoID0gc2l0ZUNvbmZpZy5wcmVzZXRzWzBdWzFdLmRvY3Mucm91dGVCYXNlUGF0aFxuXG4gIHJldHVybiAoXG4gICAgPG5hdlxuICAgICAgY2xhc3NOYW1lPXtjbHN4KFxuICAgICAgICBUaGVtZUNsYXNzTmFtZXMuZG9jcy5kb2NCcmVhZGNydW1icyxcbiAgICAgICAgc3R5bGVzLmJyZWFkY3J1bWJzQ29udGFpbmVyLFxuICAgICAgKX1cbiAgICAgIGFyaWEtbGFiZWw9e3RyYW5zbGF0ZSh7XG4gICAgICAgIGlkOiAndGhlbWUuZG9jcy5icmVhZGNydW1icy5uYXZBcmlhTGFiZWwnLFxuICAgICAgICBtZXNzYWdlOiAnQnJlYWRjcnVtYnMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBBUklBIGxhYmVsIGZvciB0aGUgYnJlYWRjcnVtYnMnLFxuICAgICAgfSl9XG4gICAgPlxuICAgICAgPHVsXG4gICAgICAgIGNsYXNzTmFtZT1cImJyZWFkY3J1bWJzXCJcbiAgICAgICAgaXRlbVNjb3BlXG4gICAgICAgIGl0ZW1UeXBlPVwiaHR0cHM6Ly9zY2hlbWEub3JnL0JyZWFkY3J1bWJMaXN0XCJcbiAgICAgID5cbiAgICAgICAge2hvbWVQYWdlUm91dGUgJiYgKFxuICAgICAgICAgIDxUeXBvZ3JhcGh5XG4gICAgICAgICAgICBjbGFzc05hbWU9e2Nsc3goJ2JyZWFkY3J1bWJzX19pdGVtJyl9XG4gICAgICAgICAgICB2YXJpYW50PVwiYm9keTNcIlxuICAgICAgICAgICAgY29tcG9uZW50PVwiYVwiXG4gICAgICAgICAgICBocmVmPXtyb3V0ZUJhc2VQYXRofVxuICAgICAgICAgID5cbiAgICAgICAgICAgIEhvbWVcbiAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICl9XG4gICAgICAgIHticmVhZGNydW1icy5tYXAoKGl0ZW0sIGlkeCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGlzTGFzdCA9IGlkeCA9PT0gYnJlYWRjcnVtYnMubGVuZ3RoIC0gMVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8QnJlYWRjcnVtYnNJdGVtXG4gICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICBhY3RpdmU9e2lzTGFzdH1cbiAgICAgICAgICAgICAgaW5kZXg9e2lkeH1cbiAgICAgICAgICAgICAgYWRkTWljcm9kYXRhPXshIWl0ZW0uaHJlZn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEJyZWFkY3J1bWJzSXRlbUxpbmsgaHJlZj17aXRlbS5ocmVmfSBpc0xhc3Q9e2lzTGFzdH0+XG4gICAgICAgICAgICAgICAge2l0ZW0ubGFiZWx9XG4gICAgICAgICAgICAgIDwvQnJlYWRjcnVtYnNJdGVtTGluaz5cbiAgICAgICAgICAgIDwvQnJlYWRjcnVtYnNJdGVtPlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvbmF2PlxuICApXG59XG4iXX0=
